---
import { getCollection, render } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_TITLE } from '../consts';

const aboutEntries = await getCollection('about');
if (aboutEntries.length === 0) {
  throw new Error(
    "No entries found in 'about' collection. Ensure src/content/about/ contains at least one .mdx file.",
  );
}
const about = aboutEntries[0];
const { title, description } = about.data;
const { Content } = await render(about);
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={`${title} | ${SITE_TITLE}`} description={description} />
  </head>
  <body class="min-h-screen flex flex-col">
    <Header />
    <main class="container mx-auto px-4 py-8 max-w-4xl flex-1">
      <h1 class="text-4xl font-bold mb-8">{title}</h1>
      <div class="prose prose-lg max-w-none">
        <Content />
      </div>
    </main>
    <Footer />
  </body>
</html>
